<!DOCTYPE html>
<html>
   <%- include('./partials/head.ejs') %>
   <body class='container'>
      <%- include('./partials/navbar.ejs') %>
      <% if (message.length > 0) { %>
         <div class='text-center alert alert-warning'>
            <%= message %>
         </div>
      <% } %>
      <h3 class='text-center text-primary'>Sign Up</h3>
      <div class='row'>
         <div class='col-sm-6 col-sm-offset-3 jumbotron'>
            <form method='post' action='/signup'>
               <div class='form-group row'>
                  <label class='col-sm-3 col-form-label' for='firstName'>First Name</label>
                  <div class='col-sm-9'>
                     <input class='form-control' type='text' name='firstName'>
                  </div>
               </div>
               <div class='form-group row'>
                  <label class='col-sm-3 col-form-label' for='lastName'>Last Name</label>
                  <div class='col-sm-9'>
                     <input class='form-control' type='text' name='lastName'>
                  </div>
               </div>
               <div class='form-group row'>
                  <label class='col-sm-2 col-form-label' for='email'>Email</label>
                  <div class='col-sm-10'>
                     <input class='form-control' type='email' name='email'>
                  </div>
               </div>
               <div class='form-group row'>
                  <label class='col-sm-3 col-form-label'for='username'>Username</label>
                  <div class='col-sm-9'>
                     <input class='form-control' type='text' name='username'>
                  </div>
               </div>
               <div class='form-group row'>
                  <label class='col-sm-3 col-form-label' for='password'>Password</label>
                  <div class='col-sm-9'>
                     <input class='form-control' type='password' name='password'>
                  </div>
               </div>
               <div class='form-group row'>
                  <label class='col-sm-3 col-form-label' for='confirmPassword'>Confirm Password</label>
                  <div class='col-sm-9'>
                     <input class='form-control' type='password' name='confirmPassword'>
                  </div>
               </div>
               <button id='signup' disabled='disabled' class='btn btn-primary form-control disabled' type='submit'>Sign Up!</button>
            </form>
         </div>
      </div>
      <%- include('./partials/jq-bootstrap.ejs') %>
      <script type='text/javascript'>
         //This solution was found on stackoverflow
         //http://stackoverflow.com/questions/5614399/disabling-submit-button-until-all-fields-have-values
         (function() {
            $('input').keyup(function () {
               var empty = false;
               console.log('keyup');
               $('input').each(function() {
                  if($(this).val() == ''){
                     empty = true;
                  }
               });

               if(empty){
                  $('#signup').attr('disabled', 'disabled');
               } else {
                  $('#signup').removeAttr('disabled');
               }
            });
         })()
      </script>
   </body>
</html>

